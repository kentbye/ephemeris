$ns.natalchart = function ($transitPlanets, $natalPlanets) {
  var ctx = document.getElementById('chartcanvas').getContext('2d');
  var planetX, planetY;
  var transitingPlanetX, transitingPlanetY;
  var innerX, innerY;
  var middleX, middleY; 
  var outerX, outerY;
  var planetGlyphX, planetGlyphY;
  var signGlyphX, signGlyphY;
  var tickStartX, tickStartY;
  var innerTickStartX, innerTickStartY;
  var signDegree;
  var planetSign;
  var outerWheelRadius = 228;
  var chartSignWidth = 30;
  var innerCircleRadius = 80;
  var middleCircleRadius = innerCircleRadius + 60;
  var signImageArray = new Array();
  var planetImageArray = new Array();
  var aspectImageArray = new Array();


  var $planetColor = {
		sun: "#feb400",
		moon: "#b2b2b2",
		mercury: "#abc600",
		venus: "#00ccce",
		mars: "#be0000",
		jupiter: "#0000cb",
		saturn: "#a28868",
		chiron: "#666666",
		uranus: "#bc00ca",
		neptune: "#116f43",
		pluto: "#6b0000"
  };

  // Aries glyph image
  signImageArray[0] = new Image();
  signImageArray[0].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNzM3Q0E1ODVDNTQxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNzM3Q0E1OTVDNTQxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE3MzdDQTU2NUM1NDExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE3MzdDQTU3NUM1NDExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lsWFJAAAADBQTFRF/SMJ/0lA//Lx/1tU/8nI/+Xl/9fW/356/zUn/7u5/2xo/62q/46L/52b+xgA////TS/DvQAAABB0Uk5T////////////////////AOAjXRkAAACwSURBVHja7JPJDsMgDERtlgBJZvj/v63JSqqoai49lQuynz0eQEj9uOQbDCD0WReAuGMIbQl2GFOL6WPDTpmBOZO6NNTJkAJKGQyPW5tpiGu7wWVSEK2CdEw0MLmtaE2M4nE68jaGLEcc9IKL6VLPOGRJvj+muerKkxfwok4OnZckjhxjZ46HstUWqTNPNx0u7fTrtTDedHO9luoS78QlD+8v1uObB/3j3+Onf+wlwABgKTC0gUhKrgAAAABJRU5ErkJggg==';

  // Taurus glpyh image
  signImageArray[1] = new Image();
  signImageArray[1].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNzM3Q0E1QzVDNTQxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGNDA4QTk1QzVDNjIxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE3MzdDQTVBNUM1NDExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE3MzdDQTVCNUM1NDExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ob3tqQAAADBQTFRFr31Sp3A9vph46t/W8url1ryqlFIBtotm3ci5xqSKzrGa49TInWEk+PTxikEA////idTIwQAAABB0Uk5T////////////////////AOAjXRkAAADsSURBVHjajJNJEsQgCEXRYMwgeP/bNlitgvaiWViJL0wfAlXsqLtRO0GPRBt968QYN3wZXENana13vfhx9MjV4ho5o/Et6DEBc/zmu+I5WoH+8LBYAAjMZTY6cMWbm522zYmTuJbGH9owQdRLxMw2ei8tDGWSBjgcplBmvsbR4sfJok2A1ZzZDU0rfCeWz52mGj7+jWHBGr1MLG/osAo48ahkLIPDMobbb4PDuacaJsNzlXNa8D0xneJOPvjhRO2Ndlmzm5gUZ2SnctIyUMvjMlDhugbQbikG3JfpbXtSACD92jVxe9Xc//YRYAC1Cy+zXqtb6gAAAABJRU5ErkJggg==';

  // Gemini glyph image
  signImageArray[2] = new Image();
  signImageArray[2].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGNDA4QTk1RjVDNjIxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGNDA4QTk2MDVDNjIxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY0MDhBOTVENUM2MjExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY0MDhBOTVFNUM2MjExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++DLqhAAAACFQTFRF5+Vy5uJd8vC3+PbV6uiE/fzx8O6n7euW9fPG19MA////N2LZ1wAAAAt0Uk5T/////////////wBKTwHyAAAAV0lEQVR42uyTwQ2AMAwD01Kw8f4DQ5ICQqILoPoR6XT5nkkcbJFk0oo9VpAriVDq8zg2XYv3EKmrM29Nx+3R/NCceuo/6Kp3JRhUQsuoWm+sIzzBQ4ABAOdsIIgYLjXiAAAAAElFTkSuQmCC';

  // Cancer glyph image
  signImageArray[3] = new Image();
  signImageArray[3].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGNDA4QTk2MzVDNjIxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGNDA4QTk2NDVDNjIxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY0MDhBOTYxNUM2MjExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY0MDhBOTYyNUM2MjExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+cyvKswAAADBQTFRFz+f47/f93+/6l8/xT7TpAJDgAKPkKK3nAJrha73srNfzAIfcg8buvt/1AH7a////uVGL7AAAABB0Uk5T////////////////////AOAjXRkAAAD/SURBVHjanJPZEsMgCEVxX1jy/39bRU1qk+lMy0uWAwIXhOOrwS+Y1Z5xzTINI8GODQXZLLgTQ4/DVNmopyvqijAxSqaPImLjeWDwvDE9gxp3HZu0Qz+eRSR2bPdW8zzKtPC7LE7W2yOO8Q2bge0lFoo9cRrRQxHUipPMSlmEtbQsoRBF1aH/VbeKUnrfFmW0Al2HXpvEktqBpKI2fY6VloebptIY6B/HEoLOua6J0YVZ+LYOb9iF4xuOdZ+amblnIrePZlTeWghwWztLOP5xb4Pszlq3foY47TMXx2yB2enWIV2rSLhtIXr7sci1xOUSvHm+Bnyp9dclutlLgAEAmR0vE1ky5RwAAAAASUVORK5CYII=';

  // Leo glyph image
  signImageArray[4] = new Image();
  signImageArray[4].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMzc2RUE2NDVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMzc2RUE2NTVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY0MDhBOTY1NUM2MjExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY0MDhBOTY2NUM2MjExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7MNwTQAAADBQTFRF/SMJ/62q//Lx/1tU/8nI/0lA/9fW/356/+Xl/zUn/7u5/2xo/46L/52b+xgA////SCylcwAAABB0Uk5T////////////////////AOAjXRkAAAD7SURBVHjafJPbtoUgCEXBS2oJ/v/fHkxFy872oSFMxcUlKMsy7l6LB+b2tMyeiKx8zYYDM2MLcjHgC5NQGoYde8XAPCM5ORsfWBx26hAr/MC2W4qT8Il9txRf4jjKO9ZDOQ7jEON64HNNTM/CdqELAdPxuUlHnmXxUXHundHLBU4/g3dpecoAsioN5kE/So09TNAbtSSj52AgdDVhJpXnOCCnTNrBEkF1tcQiWRsoLsXFr2FSXakGITQfuI+UqU/gjsXNpo1LHZg3HjlLdhnoX2wwFrtjv0xFwg3XtvuWNqVd2t1MoKO4AMcHLke4VUP4yrv9Bc719/8EGADGNS5fnoxG9AAAAABJRU5ErkJggg==';

  // Virgo glyph image
  signImageArray[5] = new Image();
  signImageArray[5].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMzc2RUE2ODVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMzc2RUE2OTVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzNzZFQTY2NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIzNzZFQTY3NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+z+EmuQAAADBQTFRF+PTxr31S8urlnWEklFIB1ryqxqSKvph4p3A93ci5totm6t/WzrGa49TIikEA////DFFfLQAAABB0Uk5T////////////////////AOAjXRkAAADcSURBVHjanJNHAgMhCACxN8r/fxuU3Zwwh3ARGUSKgvwUEIlEdPR3XUTrxRBYJUXBvNchK7EpBy+BpttQBhGqMipR2R7jCS6w3ePeaSQ8Vo0UXiwbn1h63K4Pj+UvPPblGC+45oqTOYOLo/kwNxfjFKsnu3iWN73o4fDNnv7AWM+mq9HDo4tZg1/3GQDt/ru4Vas7+ph2v7J25dLzgFLOjH2sx9OZ/GWgM3H/DhRV7DEiRlMeP/Af8OQEd0ycWrtizYsglxtuXHf2y8fFssYOHlZq1tYBfn/BjwADAGRgLvK7HfGjAAAAAElFTkSuQmCC';

  // Libra glyph image
  signImageArray[6] = new Image();
  signImageArray[6].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0REI4RDdDRjVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0REI4RDdEMDVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzNzZFQTZFNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjREQjhEN0NFNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+NPHTmwAAADBQTFRF7uyS6OZq+fbV/fzx+fnk6+l+8e+l6ONQ39oA8/C24t0A3dcA9vPF5eAv2tQA////hUWKDgAAABB0Uk5T////////////////////AOAjXRkAAADbSURBVHjajJLbFoQgCEW9W4Pg///t4PKGVtPw0LKzA0+AyjNMKuGEklU/JA30QcSDQJsdGyTCqiY+RrfgE4j0SNFEYAQ2xAnixjh4wZZzwQo8hYIVJyvpN4eulAd/S3bBI51xYop5DXZHZ8XX2lNrOGy4V2TMbaD0jP1vfHd3wb7i8GAtVOy2lvYfc3/hYh02fLQJquZjtc4jBDcG6uW0W+0g1kHXm3o4gDDWwfOGwTKUSAdrfjaVZPlQBVwwaTtbInBd77Hhtr8auef38Y6L87tYnV8C3/FXgAEAUpwvWCA1KIoAAAAASUVORK5CYII=';

  // Scorpio glyph image
  signImageArray[7] = new Image();
  signImageArray[7].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0REI4RDdEMzVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0REI4RDdENDVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjREQjhEN0QxNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjREQjhEN0QyNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+6jHQewAAADBQTFRFz+f47/f9l8/xrNfzAJDg3+/6AJrhAKPkAIfcKK3nT7Tpa73svt/1g8buAH7a////gBk1UgAAABB0Uk5T////////////////////AOAjXRkAAACESURBVHja3JPBDoQgDEQL6IpuO/z/30oFdU0qezDGxF6m0xfSQwdKzaKrmJm1q0JFNvwF0CWJWWKiTkV+X7s80R0joHPO9rC7egFC2q2B+UEs78CujcW3Mf7gyQpTToQrmCw81rtzHyzsgaF0YiZ1APzShJMgf6A1nebcrbG+8xPNAgwAhvIycaJ0MUUAAAAASUVORK5CYII=';

  // Sagittarius glyph image
  signImageArray[8] = new Image();
  signImageArray[8].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0REI4RDdENzVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0REI4RDdEODVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjREQjhEN0Q1NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjREQjhEN0Q2NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BQU2fgAAAC1QTFRF/9fW/52b/356/62q/7u5/+Xl/zUn/46L/8nI/2xo/SMJ/0lA//Lx+xgA////SAMvDgAAAA90Uk5T//////////////////8A1NyYoQAAALBJREFUeNqU01kOwyAMBFCbJYu3+x+3QCK1SZhI9RfoaZCMgeKlLAhjVszGi6cAXFdxdwqcVtGAbKqcITc1NsTtZDqEpurbuaSp5oBM6msgJhLfAzGJuBriFnWxePBmp4pcAudmkXJkc46/2Vg8deV7I9+7aJUCcNSmGvGW3hF3FfUy55GlKsuUh7aO2POEh/YpWapPHprmb44O/Z3SlYvfpnQ7nF3gV+qQCvxnHwEGAFckLb/xiAxxAAAAAElFTkSuQmCC';
  
    // Capricorn glyph image
  signImageArray[9] = new Image();
  signImageArray[9].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDOTEwRTgwQTVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDOTEwRTgwQjVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM5MTBFODA4NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM5MTBFODA5NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+vKv7RgAAADBQTFRFzrGanWEkp3A949TIxqSKvph41ryq6t/W3ci5totm8urlr31SlFIB+PTxikEA////kgUvJQAAABB0Uk5T////////////////////AOAjXRkAAAEUSURBVHjadJJZlsUgCERxjBO6/902oDGYzuMnJ+cCQhUwJHB8RRkg32iufwwjLIymd8CT5ZboKzh0ikbJs2Xytvcs6SC0JcMZplI0yU0zFUapPeBA31XY1WiAAzdfRci192qp2u8Z4DVupsZx/MCJSo8dNUbewB4LKlxonV5P/R588UbhJR0cNI8fGJlaB6HWcMuncBWtblnqdWInmvqE7AZnRYWnomavwAakjdFKR7UEP7QdsyYyfgYSh+PC3qLTvVd5XoaSjMDT6n3vfxiemsYP3CaOa6/2WV14QnyNdt3ywyOaMo9ncS/V2vYS90HdJV5dAl9UeBkK4ph0ss9Dz4PFG7n0RtaUz1MsLgE4tcH4E2AAlAkuaH54G0cAAAAASUVORK5CYII=';

  // Aquarius glyph image
  signImageArray[10] = new Image();
  signImageArray[10].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDOTEwRTgwRTVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDOTEwRTgwRjVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM5MTBFODBDNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM5MTBFODBENUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+MqUUpwAAADBQTFRF+fnk8O6n5+Vy+PbV4Nwo8vC35uJd6uiE7euW3dkA2tYA499G9fPG/fzx19MA////wEZYZQAAABB0Uk5T////////////////////AOAjXRkAAAEnSURBVHjafFNZjugwCKNZOtlw7n/bgaxU8/TyUxlXgO2E+n8P/S35xpbminoL3QHlMbRg1MM+glAuTYpx6PyB1JPjcHFElGFol+69AXtalTHSLxxafwx7OCHO7Z6PsDx5XuUEJEs/c1wqS6Fsp0zbtoxxXNKBePX3S0vfBxvK8tKOX7pyC2V3jFVvovshaxbIWqsNpBCr4+mWbu8zsohjxUF165e7n8GMsqqgVzGNLZA+iSAfz32IwUSUQ6s2kuRHZgs22Y4LsPOnNtfkm8i1dJlKx+KRiKgoZCN5Mc12eY0YlooO2iYqfxJZifsdSRvt89E3tToykfh0TZXli/fohs7Ffe5rKW+3CcLf2x4wIt40FeOs7iy8M4+Im/++pdb+/cbs+RVgAHmlLksDP1RoAAAAAElFTkSuQmCC';

  // Pisces glyph image
  signImageArray[11] = new Image();
  signImageArray[11].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDOTEwRTgxMjVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGODUyODcwMjVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM5MTBFODEwNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM5MTBFODExNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+B8H8ugAAADBQTFRFAIfc7/f9vt/1l8/xrNfzAKPka73sAJDgAJrh3+/6T7Tpz+f4KK3ng8buAH7a////Gmcd6AAAABB0Uk5T////////////////////AOAjXRkAAADtSURBVHjajJPbjsUgCEVROfUO//+3Q1uF1vowJibIEhHcAjM73o3LCzJD+W7wrU7MDXChB3VWnInCixZKbFiW5F+xhE8s4WD5PVHkJ+ZEdCiOthi4E1EerkCWCvQ8jZBg4jdm0nxVzN+KQZxV85QV/8R5d6KptcVph6UTlPo5xLAeXtiFdua2EVtwiutgsSNiHzvgv9gXdFbO2RXMIeX9zaflVoxaw7bu+7K4w5JxCMTtmvroRfk+iZ+VjMfljxxMjG0+nuJo54nyYBGTJ8gPpaIK88YJ6kvnYZZ24Z7q8ksCeMXYv38sHxf/E2AAE0cvFXAgT24AAAAASUVORK5CYII=';
  
  // Sun glyph image
  planetImageArray['sun'] = new Image();
  planetImageArray['sun'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozQzhBQkVCNDVBRDcxMUUyQTQ5MkZDNzJBQjhENUQzNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozQzhBQkVCNTVBRDcxMUUyQTQ5MkZDNzJBQjhENUQzNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3NkEyNDEzNUFDMzExRTJBNDkyRkM3MkFCOEQ1RDM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ3NkEyNDE0NUFDMzExRTJBNDkyRkM3MkFCOEQ1RDM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8u5VHQAAADBQTFRF//fk/+7H/+ap/8gr//LV/9FV/9Vn/9l5/+q4/92J/8QQ/8xB//vx/+GZ/8AA////Z7D8VAAAABB0Uk5T////////////////////AOAjXRkAAAEISURBVHjabJNJAsMgCEVxyiCD979tYwCjadzU9AHCB6A9Bw6+zgHzX+PCSewkpjfmKnjyVtWg8oIBBUO/EJtBoQfnKpvHy6gcyTFUSeO1RjPv+PoOc7YeXzFfubb5BKsgdtyNzwV3hzt/unC/84opuTu09I89PDbI8oFbUU4Q+8/uUUNe3AOwRhklm6UWHxULPRmr/x1U2HB8sCoECy5DL3tHo0dNTcQ6x6PVu6aWFe/v0lgLa6ZQ/sBooo7XVxytJR/KsbVk9GcNj9ZQV2iemFvVzaaF6jxeLu8Ypj6Kyn2saZtG8Rm/qqocySd3WgM1KKVUqfG9RMToS4T/S3TfQ1/BMBfwE2AAryUuvHFlVPsAAAAASUVORK5CYII=';

  // moon glyph image
  planetImageArray['moon'] = new Image();
  planetImageArray['moon'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QTM1MDAwMzVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QTM1MDAwNDVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVBMzUwMDAxNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVBMzUwMDAyNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+H+XyuwAAADBQTFRF8/Pz29vb+/v70tLS6+vrycnJ19fX9/f35+fnzc3N39/fxcXF4+Pj7+/vwMDA////hOoBowAAABB0Uk5T////////////////////AOAjXRkAAADySURBVHjadJLbAgUhBEV1mxvy/397UlOjmY6nsrIRIMM8kxqLMegH3nK3jd8YQrYWYMJUQoiLxStVjofBLrt96HETOgYmnMpRrc4L5nPnuWRA5dxw6mXhSAF6TV4xU3kC0dUXZPXJ9C3+Upe7b6qYLBaJ+HDWt3HCraTYzmc5XjOWqAX6kT28sLhRnqrjG+/FeT7J31h0blXdLzHd37UWr96Bw39Mi8Yaht5DXGGsleHnU29N17VJVo3xHXzKB5dutz4w+GJqX+7MMtmRZQRLZ+yTUiiz7MtpMaRtF9BQ5+WDKQcKaDdyjuajrHOc0v0EGACMhS8Goo5OeQAAAABJRU5ErkJggg==';
  
  // mercury glyph image
  planetImageArray['mercury'] = new Image();
  planetImageArray['mercury'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QTM1MDAwNzVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QTM1MDAwODVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVBMzUwMDA1NUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVBMzUwMDA2NUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8NEUvgAAAC1QTFRFuNEAx9tH1+WE5u+3wtcp9vjk0+JyvNUA4eyn8PXV+vvx3eiX7PLGss4A////ijqNiQAAAA90Uk5T//////////////////8A1NyYoQAAAMVJREFUeNq0kt0WhCAIhLG0Ehje/3EXt7QfvemcXW7KPoFhiGwPtlvUIx3P+U7zA0u64na54hwv5Xl6YgtR62sO3OFECKKqSRecQhr2HOyxqg2wpRi/NyYeYSXPYp48Pfc40yF3A2IvLaK2XLx+NzfQpibgaaqcn8zba4/bPDrErWHusWdQrZ6A9A7bCiztaujmnt3OrerIvanuBoS5+LeNViJuB1EI6zzcmLGUhd3+uisu8k9vf4pVpIiHiOh7/AdpHwEGANqFLYj7KJbmAAAAAElFTkSuQmCC';
  
  // venus glyph image
  planetImageArray['venus'] = new Image();
  planetImageArray['venus'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNENDMTE0NDVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNENDMTE0NTVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVBMzUwMDA5NUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjVBMzUwMDBBNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uDrIlAAAADBQTFRF8Pz8zvX1OOHiANfY3/j5ANDSk+ztANPVX+TmAN3fqe/wANrcfujqvPLyAMzO////eQauvAAAABB0Uk5T////////////////////AOAjXRkAAADDSURBVHjaxJPLAoQgCEXxlRWG//+3A1kK1mJWM2zSDsH1hlBVwMEB5s1Y7oHOCMsLho2wFN8S3IwhkJdnjMg8uQl7CrUviTIYfBCNjqJhNZgr9n41Sn9QGHivjiPld4W5NsWBHW/LhA/1eXriojBaLGKyxYtWnm11vKVcuIiVuvdmXcvDCpGSosUuKXXYLfwSN47iLPjh/xgHaP/6TnpMy5Wwuvdhascz5v4IL4iYzzHlxWNSa+QbcCov+ir8U/lHgAEAX8swSu0er0YAAAAASUVORK5CYII=';
  
  // mars glyph image
  planetImageArray['mars'] = new Image();
  planetImageArray['mars'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3NkI2MDFDNTVBRDcxMUUyQTQ5MkZDNzJBQjhENUQzNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3NkI2MDFDNjVBRDcxMUUyQTQ5MkZDNzJBQjhENUQzNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjc2QjYwMUMzNUFENzExRTJBNDkyRkM3MkFCOEQ1RDM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjc2QjYwMUM0NUFENzExRTJBNDkyRkM3MkFCOEQ1RDM3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Q7BsHAAAADBQTFRF77q466up/PLx+OTk8sjH10lC2ltV9dbV5IyK3mxo1DcszyYT4Xx56JyazBwA////7taFWQAAABB0Uk5T////////////////////AOAjXRkAAAD8SURBVHjafJLtGoMgCIX9tobA/d/tQJviVuNHT/TK8UA4/hfR/YGplWfsM5F/wBGBiIDdvSr1OG6xQwmtjvx0dyOgzE+4UUPyBicRdHFRRggfHBsMM9l/KGPjCyPAkdzRj5QwKGO9sNjQVw69nzzoKJQHEqV5p0anHAauImgc92msEXAhwpmGF/VxTBwlNc2nvdx5Sb0ZSCF7mRNjRlw+aPnKzmn1Ctiwen1ZfG5YxakajLoGEzv6Uhev58IB9k7Vmzdj6erFikMweJSv3rKdkrzWzv0cmzWiJ92oH78ItiF0oZqVQ0PMgPyDpZtz7BIGvsO6byn9buxbgAEAawMv3VKdylwAAAAASUVORK5CYII=';
  
  // jupiter glyph image
  planetImageArray['jupiter'] = new Image();
  planetImageArray['jupiter'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNENDMTE0ODVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNENDMTE0OTVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0Q0MxMTQ2NUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0Q0MxMTQ3NUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+yKaskwAAADBQTFRFmp7vPE3id4Dq19j4qa7xACzcio/tIDzgurz05eX6ZXDnUV/l8fL+yMr2ACPa////tgZf2AAAABB0Uk5T////////////////////AOAjXRkAAACsSURBVHjaxNLdAoMgCAVgFM1cgO//tsNWNI1udrNz08+XCiY0CzFzrW0InDe8yZ6SPF7EEu8MEoA5hd1h5prXz2OMynlmQHtR1HHi9et7ZR6Z2sh0b6xdLZT2zNmp3JKSFk5PTHkcPPFr2rSRdWYJ9MSo2NVfG7MO7br8wBSOdePmsCmIx/HoSOtz+NTGHoPthsdJ7AA6zHLPdjHyFT0OoV/R/99uaX/htwADAGGXMIa2ALX0AAAAAElFTkSuQmCC';
  
  // saturn glyph image
  planetImageArray['saturn'] = new Image();
  planetImageArray['saturn'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNENDMTE0QzVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNENDMTE0RDVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0Q0MxMTRBNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0Q0MxMTRCNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QYi59AAAADBQTFRF+PLv2MW0+/n3wKKFxaqO3cy9yrGY8u3n5dnP1L6r6eDX0Lei4dLG7ubgvJp6////IA9aPwAAABB0Uk5T////////////////////AOAjXRkAAACgSURBVHjatNLLDsQgCAVQfE9Hgf//22JidVphMYuy8caTpooAX+URsfCjYCYkovoCt15OOLZR+Ae/erQbS3vA5hb6Wgx2MX0TUQCVU/YSxZ3GMfgRg8bUZgSNx6YkVDiv+OSf+gizzQfRYfP6tcp1fqxxk/t7k+VcobDFN91YNAMb7GXgkj4OvVt5vfTG4KiiNUzoctuvce0gat3lU4ABACfeMSHQQwZTAAAAAElFTkSuQmCC';
  
  // uranus glyph image
  planetImageArray['uranus'] = new Image();
  planetImageArray['uranus'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODIyQUY4MUVERDc3OTgwQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEQjZEMzBBRTVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEQjZEMzBBRDVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjc3RjExNzQwNzIwNjgxMTgyMkFGODFFREQ3Nzk4MEEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjc3RjExNzQwNzIwNjgxMTgyMkFGODFFREQ3Nzk4MEEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7nGoZpAAAAMFBMVEX/5vr/8v3/2Pf0U+L8g+n/sPH/vfP9kuz6c+fyQ9/vNtz3Y+T/y/b+oO7qMNn///9FslB4AAAAEHRSTlP///////////////////8A4CNdGQAAAPNJREFUeNp8k1sShSAMQ0EUBNqw/91ekFcR5/rD4KE0SVUl+Sgivb6oSwSXhQGq22vBhCAwwa/VycNOfMO98IlzYN1aCMwwAxPwkpYsEGP0gInR7PjKdUQnwES8Y0Yclx+AeuH7Md6UVxsC61rQMD82BL6euzvWod/eFuZDhmrrdvbuAkcgG1Yu2wZu+sRXCI7PkA+4D5xnVvqpHNnQPbH2deJJF24/Qu1i8/0+balByO9HBzYz55xgazQxhGOzYy/8xB3n3kFPTLvyURJ35aVhrwn9Kxf4yHaDTcu0ZeZHGUhk6z4zz37538TaL7js00+AAQAVyDAClozLWgAAAABJRU5ErkJggg==';
  
  // neptune glyph image
  planetImageArray['neptune'] = new Image();
  planetImageArray['neptune'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEQjZEMzBCMTVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEQjZEMzBCMjVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRCNkQzMEFGNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkRCNkQzMEIwNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/Q1rcwAAACpQTFRFR6+U0+jhYrefAJ17otDCAIphAJNu4u/r8Pf1jsi3w+HXHaaIAIFS////1bwsxgAAAA50Uk5T/////////////////wBFwNzIAAAAp0lEQVR42tSSSRaDMAxDnQFiB/v+162cCXh00SXVAoG+AeEHmYutqwxfAfkh7KGHKecRxxNz0tTGo6q2QVHNCxNS9wzXDYNV5xzi7DeRWKDdT8j4OFQTlY7ZkLYySLUasz9cWtKqObaF+7vlbP6/GOsoNxyHd4yreMVha7udmH2bd2X7GRtLPKANeYKThOvvMLWqLb0CVygBC7w88fWj5V3Nv+OPAAMA6r8p2C54qgYAAAAASUVORK5CYII=';
  
  // pluto glyph image
  planetImageArray['pluto'] = new Image();
  planetImageArray['pluto'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEQjZEMzBCNTVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEQjZEMzBCNjVDNTMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRCNkQzMEIzNUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkRCNkQzMEI0NUM1MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+N0mHwgAAADBQTFRF7tfWuldVwmpo9OXl3qyq0YyLyXx6qy4p5Lq5oBcL15yb+fLxs0RA6cnIlgUA////kskIBAAAABB0Uk5T////////////////////AOAjXRkAAADGSURBVHjazNJLEoMwCABQ8lMhAe5/24KOJtp00U2nbIw+mRAC6BCVLcYPCn2ZonggTRkwMhf/odV3Thj2d0CR8M5B8rFgy89PTiJnUTSkn8ydq6VPOPd9nlyNY2e8c6NqBcPFi0YaeI1a+nmbcJWRF4HaTmcpVj0PnEzc18y8YbEOhltp5JnUvKWRTRHuB1ukXQ0klO3ZVCstZr9QWgVBv2Tlfed99zQbB4XFkdJ8Wo67lE/D9L8sPSaTqt4wN3vCb0p7CTAA9tswPm+GG6MAAAAASUVORK5CYII=';
  
  // chiron glyph image
  planetImageArray['chiron'] = new Image();
  planetImageArray['chiron'].src =  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNzM3Q0E1NDVDNTQxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNzM3Q0E1NTVDNTQxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE3MzdDQTUyNUM1NDExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE3MzdDQTUzNUM1NDExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2al9ZgAAADBQTFRFs7OzhISEzs7OxsbGmJiY19fXq6ur7+/vvLy8jo6O9/f3oaGh5+fn39/fenp6////ObXkHAAAABB0Uk5T////////////////////AOAjXRkAAACnSURBVHja1NPbDsMgCABQLPYCQ/r/f1tMXALDuef5ou2JhovC7Qa3JncY4D+a6ssmOXjBQrLY7TVz0MQUNLHqtowcgufQqvfM7H2St/dZ1X4U9e94v6pqATxnvBNh2y6ypgAnBh0rLHaEfDCqvreIOXFkcjGJa/pg++PiUcXIxd8STAw+HuMzMveU21hT7jcfPeF+gNSyT6rWoPSLqhX5S83zE3wEGAAw5jDOCa91MAAAAABJRU5ErkJggg==';

  // opposition glyph image
  aspectImageArray['oppose'] = new Image();
  aspectImageArray['oppose'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENEQyMDBCNjVEMjcxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENEQyMDBCNzVEMjcxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RDIwMEI0NUQyNzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0RDIwMEI1NUQyNzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FlRouwAAADBQTFRF6X97/O7t2ygT+eHg5m9r87i399TT76ak41xW9cbE4UtD3jsw7ZuZ/vn52B4A////U8G50gAAABB0Uk5T////////////////////AOAjXRkAAADySURBVHjajJPhEoQgCIRFMRR1e/+3PS3NJrub45fTFyi7YPafYV6+kXBgcV+wT2hh5RXnStiwBfILjkBodR0DfsElINF5Umh5YtdyztiAzay13WjAwv/AJUGeuFWc98TlaYowFIOlpTEDmNL7z0tjucoBzZIV4DIw0ZFRaq4yzqj0xJ5V1cSdQpWM9hjUJvbdknL9ruNecjQMbTRIlNBcyovfxwv7U9c+KIH7masHT3yT6Xa8sEcq04MFxyrdFHnBTfgxZLDuied4uHS5cWvsGK6yl01nnfuc5yYYN+nkdQ36YCf/ZUtITDBCfy7R//gjwAAvNy6NgU83YgAAAABJRU5ErkJggg==';

  // conjunction glyph image
  aspectImageArray['conjunct'] = new Image();
  aspectImageArray['conjunct'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENEQyMDBCMjVEMjcxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENEQyMDBCMzVEMjcxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RDIwMEIwNUQyNzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0RDIwMEIxNUQyNzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++qgPYwAAADBQTFRFmJiYhYWFy8vLvLy86Ojo/Pz8a2trPDw8FBQUq6ur8fHx+Pj41tbWV1dXAAAA////9FmWKgAAABB0Uk5T////////////////////AOAjXRkAAADfSURBVHjalNPZDsQgCAVQqnUH5///dq52w3ZqMrw06REiovSZBk0smRlTrUwzDe/cdH0tvukb7/qb3aG/+VTFzrmHHpwtefFkdpVVn1pJoW4hPGjnLICIwCf4qLRx0+itYUO9iFKwW5Bj9y14sBkmZpB7/YEvTnFBsmo+hxpZ8RrPJntgddJcq9cnZmKlqzrZGzMaKxfzk70bistwwYadUtuqVYzOrO4byyXr5JA1r0E59q37amdu2iQsFjhG09WX2zOwfVQiId51mzcf4x4P/LwtJUmbd1j4jzeG+AowAJ/FLroHIZg0AAAAAElFTkSuQmCC';

  // square glyph image
  aspectImageArray['square'] = new Image();
  aspectImageArray['square'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MjIwN0VEMzVEMjgxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1MjIwN0VENDVEMjgxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RDIwMEI4NUQyNzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUyMjA3RUQyNUQyODExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+OD/ruwAAAAxQTFRF41tV7Zya2B4A////162OIQAAAAR0Uk5T////AEAqqfQAAAAuSURBVHjaYmBmwAOYGZiZ8ACipJmxglHpUenBJs2IFRCbzvFJM+IBQGm8ACDAAAlpCNsZH9VlAAAAAElFTkSuQmCC';

  // trine glyph image
  aspectImageArray['trine'] = new Image();
  aspectImageArray['trine'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENEQyMDBBRTVEMjcxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENEQyMDBBRjVEMjcxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY4NTI4NzBCNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY4NTI4NzBDNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BxGAywAAADBQTFRFtdTxdrPm+vz+Zark3uz5mMTsSZ3gAILXFInZ8Pb8z+P25/H6L5LciLzqAH3W////WNcKCwAAABB0Uk5T////////////////////AOAjXRkAAADKSURBVHjarJNtD4MgDIQPUMqLdP//364wFJhIsmT9YuSJ9O5a8VoWfsLACuvD6QXemfdnvDlmio9YsZR5woHYGOYwx9rKzZHY6ilG0SXqMMP+4MOXh/MTnOpnckm6YzFVm4qE7Yab5NCZOzGonammDpcpd90YpY8fMIawW/Qf7F0x1Xl0scNpyKIoUQ1vonWcs2EKF7b1ZZiOPbHoUt9LVtshb1Cf8jgBZBu0T3a0RI8cgmzBvShHD102aF5GI6ZFRfzzJ/qutwADAM2YLv3OLoBnAAAAAElFTkSuQmCC';

  // sextile glyph image
  aspectImageArray['sextile'] = new Image();
  aspectImageArray['sextile'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGODUyODcwNTVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGODUyODcwNjVDNjMxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkY4NTI4NzAzNUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY4NTI4NzA0NUM2MzExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bqlkXAAAADBQTFRFGovawNrzP5neqM7v1eb3iLzquNbyZ6zkkMHrfLbo8ff9x970U6Lhd7PmAH3W////1tJ33AAAABB0Uk5T////////////////////AOAjXRkAAACfSURBVHjarNNRDoQgDATQEVC0Wrz/bQ1ESgvGTTbOZ1+oMlGcr8EHTMsAvjG55DvlxMIxpc75ntTT1rOyerZ10frmxpvKxZQrbfcuPneqasmOdVq16taKR2g9EQ5JXp/TJjP29JLjF9MuqctZJgG2yW1i0x+MukDe9IuhZ9Mvxp61Y1DjGFU7HvT2pbLvtLgjWe65/1Ap0le/wb98CTAAz4YwZLlY1R4AAAAASUVORK5CYII=';

  // quincunx glyph image
  aspectImageArray['quincunx'] = new Image();
  aspectImageArray['quincunx'].src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1MjIwN0VEQjVEMjgxMUUyOEFCOUE4RTNEQTdENzFFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1MjIwN0VEQzVEMjgxMUUyOEFCOUE4RTNEQTdENzFFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUyMjA3RUQ5NUQyODExRTI4QUI5QThFM0RBN0Q3MUVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUyMjA3RURBNUQyODExRTI4QUI5QThFM0RBN0Q3MUVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/h+oNQAAADBQTFRFvtGpc6BA1eLJia5f+vz54urZ8fXtpsGI6vDkf6hRydm3mrp49Pjxtsyea5wz////E74PUgAAABB0Uk5T////////////////////AOAjXRkAAADOSURBVHjatJPbFoQgCEVRvGFJ//+3I5a3yeXLrDkPlWyVAxpcW8Fv2KadIPJGCjRhE5VYDxCCcVVnQMak+OghN1rLeeA6WOml80CM5gpKngvs73WJOS6wzlnlfRJTeOOc1N7zmNMLxxY0B7P9wi77cs+3leJmPBnqgweHvqCV2LGk0+NBVSNQzfrpIJHJNXziUGptgm84SbNnPS2UsKWxzZNXKDMnX81dLFh8mRe+/UApKixuoRZDILusr2vOaSEMzZ6VHXv461+yxx8BBgCnvi4Vj3tzDAAAAABJRU5ErkJggg==';
 
      
  ctx.save();
// Clear out the chartcanvas for multiple executions
  ctx.setTransform(1, 0, 0, 1, 0, 0);   
  
  // If animating, then there is no need to rerender the baseline chart
  if ($natalPlanets) {
	  ctx.clearRect(0, 0, chartcanvas.width, chartcanvas.height);
	  // Move the 0,0 point to the center of the chartcanvas
	  ctx.translate(chartcanvas.width/2, chartcanvas.height/2);
	  ctx.strokeStyle = "black";
	  ctx.fillStyle = "white";
	  ctx.lineWidth = 1;
	
	  // Sign Cusps marks
	  ctx.save();
	  ctx.lineWidth = 0.75;
	  for (var i = 0; i < 12; i++) {
	    ctx.beginPath();
	    ctx.rotate(Math.PI / 6);
	    ctx.moveTo(outerWheelRadius, 0);
	    ctx.lineTo(innerCircleRadius, 0);
	    ctx.stroke();
	  }
	  ctx.restore();
	
	  // Decan marks
	  ctx.save();
	  ctx.lineWidth = 0.25;
	  for (var i = 0; i < 36; i++) {
	    ctx.beginPath();
	    ctx.rotate(Math.PI / 18);
	    // Outer wheel ticks
	    ctx.moveTo(outerWheelRadius-10, 0);
	    ctx.lineTo(outerWheelRadius, 0);
	    ctx.stroke();
	    // Inner Wheel ticks
	    ctx.moveTo(outerWheelRadius-chartSignWidth, 0);
	    ctx.lineTo(outerWheelRadius-chartSignWidth+6, 0);
	    ctx.stroke();
	
	  }
	  ctx.restore();
	  
	  // Degree marks
	  ctx.save();
	  ctx.lineWidth = 0.1;
	  for (i = 0; i < 360; i++) {
	    if (i % 30 != 0) {
	      ctx.beginPath();
	      // Outer wheel ticks
	      ctx.moveTo(outerWheelRadius-5, 0);
	      ctx.lineTo(outerWheelRadius, 0);
	      ctx.stroke();
	      // Inner wheel ticks
	      ctx.moveTo(outerWheelRadius-chartSignWidth, 0);
	      ctx.lineTo(outerWheelRadius-chartSignWidth+3, 0);
	      ctx.stroke();
	    }
	    ctx.rotate(Math.PI / 180);
	  }
	  ctx.restore();
	  ctx.fillStyle = "black";
	
	  // Draw outside wheel
	  ctx.save();
	  ctx.beginPath();
	  ctx.lineWidth = 1;
	  ctx.strokeStyle = '#000000';
	  ctx.arc(0, 0, outerWheelRadius, 0, Math.PI * 2, true);
	  ctx.stroke();
	  ctx.restore();
	
	  // Draw inside wheel with radius of chartSignWidth less than outside
	  ctx.save();  
	  ctx.beginPath();
	  ctx.arc(0, 0, outerWheelRadius-chartSignWidth, 0, Math.PI * 2, true);
	  ctx.stroke();
	  ctx.restore();
	
	  // Draw middle circle with radius of middleCircleRadius
	  ctx.save();  
	  ctx.beginPath();
	  ctx.arc(0, 0, middleCircleRadius, 0, Math.PI * 2, true);
	  ctx.stroke();
	  ctx.restore();
	
	
	  // Draw inside circle with radius of innerCircleRadius 
	  ctx.save();  
	  ctx.beginPath();
	  ctx.arc(0, 0, innerCircleRadius, 0, Math.PI * 2, true);
	  ctx.stroke();
	  ctx.restore();
  };

  // Reset transform to the upper right-hand corner
  ctx.setTransform(1, 0, 0, 1, 0, 0);   
  
  // Draw Planet Degree
  // Go from the outside wheel to the inside circle
  var ctx = document.getElementById('transitcanvas').getContext('2d');
  ctx.font = "12px Arial";
  ctx.clearRect(0, 0, transitcanvas.width, transitcanvas.height);
  for (var key in $transitPlanets) {

	  ctx.save();

      // Draw the transiting planet degree line on outer circle
	  ctx.beginPath();
	  ctx.lineWidth = 0.5;
	  ctx.strokeStyle = $planetColor[key];
	  ctx.fillStyle = $planetColor[key];
      planetX = Math.cos((180-($transitPlanets[key]))*Math.PI/180);
      planetY = Math.sin((180-($transitPlanets[key]))*Math.PI/180);

	  innerX = (outerWheelRadius - chartSignWidth) * planetX + (transitcanvas.width/2);
	  innerY = (outerWheelRadius - chartSignWidth) * planetY + (transitcanvas.height/2);
	  outerX = outerWheelRadius * planetX + (transitcanvas.width/2);
	  outerY = outerWheelRadius * planetY + (transitcanvas.height/2);
	  ctx.moveTo(innerX, innerY);
      ctx.lineTo(outerX, outerY);
      ctx.stroke();

      // Draw planetary position dot the outside of the outer circle
	  ctx.moveTo(outerX, outerY);
      ctx.arc(outerX, outerY, 3, 0, Math.PI * 2, true);
      ctx.fill();
        
      // Place glyph of transiting planet
	  planetGlyphX = 185 * planetX + (transitcanvas.width/2) - 10;
	  planetGlyphY = 185 * planetY + (transitcanvas.height/2) - 10;
	  ctx.drawImage(planetImageArray[key],planetGlyphX,planetGlyphY, 20, 20);
	  	  
      // Place degree of transiting planet
      degreeX = 168 * planetX + (transitcanvas.width/2);
	  degreeY = 168 * planetY + (transitcanvas.height/2); 
      signDegree = Math.floor($transitPlanets[key] % 30);
      ctx.fillText(signDegree+String.fromCharCode(0x00B0), degreeX-7, degreeY+5);
      
      // Place glyph of transiting planet's sign
      signGlyphX = 153 * planetX + (transitcanvas.width/2);
	  signGlyphY = 153 * planetY + (transitcanvas.height/2); 
      planetSign = Math.floor($transitPlanets[key] / 30);
      ctx.drawImage(signImageArray[planetSign],signGlyphX-7,signGlyphY-7, 14, 14);

      // Draw the transiting planet degree line on middle circle
      ctx.lineWidth = 1;
      tickStartX = middleCircleRadius * planetX + (transitcanvas.width/2);
      tickStartY = middleCircleRadius * planetY + (transitcanvas.height/2);
      tickStopX = (middleCircleRadius + 5) * planetX + (transitcanvas.width/2);
      tickStopY = (middleCircleRadius + 5) * planetY + (transitcanvas.height/2);
	  ctx.moveTo(tickStartX, tickStartY);
      ctx.lineTo(tickStopX, tickStopY);
      ctx.stroke();
      
	  ctx.restore();
  }

  // Draw the Natal Planets and sign glpyhs, if not animating. If animating, then once is enough.
  if ($natalPlanets) {
        var ctx = document.getElementById('natalcanvas').getContext('2d');
        ctx.clearRect(0, 0, natalcanvas.width, natalcanvas.height);
		for (var key in $natalPlanets) {
		  ctx.save();
		
		  // Draw the natal planet degree line on outer circle
		  ctx.beginPath();
		  ctx.strokeStyle = $planetColor[key];
		  ctx.fillStyle = $planetColor[key];
		  planetX = Math.cos((180-($natalPlanets[key]))*Math.PI/180);
		  planetY = Math.sin((180-($natalPlanets[key]))*Math.PI/180);
		
		  innerX = (outerWheelRadius - chartSignWidth) * planetX + (natalcanvas.width/2);
		  innerY = (outerWheelRadius - chartSignWidth) * planetY + (natalcanvas.height/2);
		  outerX = outerWheelRadius * planetX + (natalcanvas.width/2);
		  outerY = outerWheelRadius * planetY + (natalcanvas.height/2);
		  ctx.lineWidth = 1;
		  ctx.moveTo(innerX, innerY);
		  ctx.lineTo(outerX, outerY);
		  ctx.stroke();
		
		  // Draw planetary position dot the inside of the outer circle
		  ctx.lineWidth = 0.5;
		  ctx.moveTo(innerX, innerY);
		  ctx.arc(innerX, innerY, 3, 0, Math.PI * 2, true);
		  ctx.fill();
		    
		  // Place glyph of natal planet
		  planetGlyphX = 125 * planetX + (natalcanvas.width/2) - 10;
		  planetGlyphY = 125 * planetY + (natalcanvas.height/2) - 10;
		  ctx.drawImage(planetImageArray[key],planetGlyphX,planetGlyphY, 20, 20);
		  	  
		  // Place degree of natal planet
		  degreeX = 108 * planetX + (natalcanvas.width/2);
		  degreeY = 108 * planetY + (natalcanvas.height/2); 
		  signDegree = Math.floor($natalPlanets[key] % 30);
		  ctx.fillText(signDegree+String.fromCharCode(0x00B0), degreeX-7, degreeY+5);
		  
		  // Place glyph of natal planet's sign
		  signGlyphX = 93 * planetX + (natalcanvas.width/2);
		  signGlyphY = 93 * planetY + (natalcanvas.height/2); 
		  planetSign = Math.floor($natalPlanets[key] / 30);
		  ctx.drawImage(signImageArray[planetSign],signGlyphX-7,signGlyphY-7, 14, 14);
		  
		  // Draw the natal planet degree line on inner circle
		  ctx.lineWidth = 1;
		  tickStartX = innerCircleRadius * planetX + (natalcanvas.width/2);
		  tickStartY = innerCircleRadius * planetY + (natalcanvas.height/2);
		  tickStopX = (innerCircleRadius + 5) * planetX + (natalcanvas.width/2);
		  tickStopY = (innerCircleRadius + 5) * planetY + (natalcanvas.height/2);
		  ctx.moveTo(tickStartX, tickStartY);
		  ctx.lineTo(tickStopX, tickStopY);
		  ctx.stroke();
		  
		  // Draw the transiting planet degree line on inner circle
		  ctx.lineWidth = 1;
		  transitingPlanetX = Math.cos((180-($transitPlanets[key]))*Math.PI/180);
		  transitingPlanetY = Math.sin((180-($transitPlanets[key]))*Math.PI/180);
		  innerTickStartX = innerCircleRadius * transitingPlanetX + (natalcanvas.width/2);
		  innerTickStartY = innerCircleRadius * transitingPlanetY + (natalcanvas.height/2);
		  innerTickStopX = (innerCircleRadius - 5) * transitingPlanetX + (natalcanvas.width/2);
		  innerTickStopY = (innerCircleRadius - 5) * transitingPlanetY + (natalcanvas.height/2);
		  ctx.moveTo(innerTickStartX, innerTickStartY);
		  ctx.lineTo(innerTickStopX, innerTickStopY);
		  ctx.stroke();
		  
		  ctx.restore();
		};
		
		// Draw the Sign Glyphs
		ctx.save();
		for(var i=0; i<12; i++){
		  ctx.save();
		  // Radius * Angle(+15 degrees from cusp (with 180 correction for Aries zero-point)) + Center Point (minus half the width of a glyph)
		  var x = (outerWheelRadius-15) * Math.cos((180-15-(i*30))*Math.PI/180) + (natalcanvas.width/2)-10;
		  var y = (outerWheelRadius-15) * Math.sin((180-15-(i*30))*Math.PI/180) + (natalcanvas.height/2)-10;
		  ctx.drawImage(signImageArray[i],x,y,20,20);
		  ctx.restore();
		};
  };

   // Calculate and display transits
  if ($natalPlanets) {
    var natalTransits = new Array();
    var displayTransits = Array();
    var transitCount = 0;
    var transitIntensity = {
	  moon: 1,
	  sun: 2,
	  mercury: 4,
	  venus: 4,
	  mars: 5,
	  jupiter: 6,
	  saturn: 7,
	  chiron: 8,
	  uranus: 10,
	  neptune: 10,
	  pluto: 10
    };

	for (var natalKey in $natalPlanets) {
	  natalTransits[natalKey] = new Array();
	  for (var transitKey in $transitPlanets) {
	    natalTransits[natalKey][transitKey] = Math.abs($natalPlanets[natalKey] - $transitPlanets[transitKey]);
	    if (natalTransits[natalKey][transitKey] > 180) {
		  natalTransits[natalKey][transitKey] = 360 - natalTransits[natalKey][transitKey];
	    };
	    // plot opposition
	    if (natalTransits[natalKey][transitKey] >= 179 && natalTransits[natalKey][transitKey] <= 180) {
	    	displayTransits[transitCount] = {
	    		'strength': 10 * transitIntensity[transitKey] * transitIntensity[natalKey],
	    		'transitPlanet': transitKey,
	    		'natalPlanet': natalKey,
	    		'aspect': 'oppose',
	    		'difference': Math.abs(180-natalTransits[natalKey][transitKey])
	    	};
		    transitCount++;
	    }	    
	    // plot conjunction
	    if (natalTransits[natalKey][transitKey] >= 0 && natalTransits[natalKey][transitKey] <= 1) {
	    	displayTransits[transitCount] = {
	    		'strength': 10 * transitIntensity[transitKey] * transitIntensity[natalKey],
	    		'transitPlanet': transitKey,
	    		'natalPlanet': natalKey,
	    		'aspect': 'conjunct',
	    		'difference': natalTransits[natalKey][transitKey]
	    	};
		    transitCount++;
	    }
        // plot square
	    if (natalTransits[natalKey][transitKey] >= 89 && natalTransits[natalKey][transitKey] <= 91) {
	    	displayTransits[transitCount] = {
	    		'strength': 8 * transitIntensity[transitKey] * transitIntensity[natalKey],
	    		'transitPlanet': transitKey,
	    		'natalPlanet': natalKey,
	    		'aspect': 'square',
	    		'difference': Math.abs(90-natalTransits[natalKey][transitKey])
	    	};
		    transitCount++;
	    }
	    // plot trine
	    if (natalTransits[natalKey][transitKey] >= 119 && natalTransits[natalKey][transitKey] <= 121) {
	    	displayTransits[transitCount] = {
	    		'strength': 5 * transitIntensity[transitKey] * transitIntensity[natalKey],
	    		'transitPlanet': transitKey,
	    		'natalPlanet': natalKey,
	    		'aspect': 'trine',
	    		'difference': Math.abs(120-natalTransits[natalKey][transitKey])
	    	};
		    transitCount++;
	    }
        // plot sextile
	    if (natalTransits[natalKey][transitKey] >= 59 && natalTransits[natalKey][transitKey] <= 61) {
	    	displayTransits[transitCount] = {
	    		'strength': 3 * transitIntensity[transitKey] * transitIntensity[natalKey],
	    		'transitPlanet': transitKey,
	    		'natalPlanet': natalKey,
	    		'aspect': 'sextile',
	    		'difference': Math.abs(60-natalTransits[natalKey][transitKey])
	    	};
		    transitCount++;
	    }
	    // plot quincunx
	    if (natalTransits[natalKey][transitKey] >= 149 && natalTransits[natalKey][transitKey] <= 151) {
	    	displayTransits[transitCount] = {
	    		'strength': 2 * transitIntensity[transitKey] * transitIntensity[natalKey],
	    		'transitPlanet': transitKey,
	    		'natalPlanet': natalKey,
	    		'aspect': 'quincunx',
	    		'difference': Math.abs(150-natalTransits[natalKey][transitKey])
	    	};
		    transitCount++;
	    }

	    
	  }
	}

    displayTransits.sort(function compareStrength(a,b) {return b.strength - a.strength});
    var ctx = document.getElementById('aspectcanvas').getContext('2d');
    var orb;
    ctx.clearRect(0, 0, aspectcanvas.width, aspectcanvas.height);

    // Display the ordered aspects with an orb indication
    for (var i = 0; i < transitCount; i++) {
	  ctx.save();
	  ctx.beginPath();
      x = i % 4;
      y = Math.floor(i/4);
      ctx.drawImage(planetImageArray[displayTransits[i].transitPlanet], x*115+0, y*50);
      ctx.drawImage(aspectImageArray[displayTransits[i].aspect], x*115+35, y*50+5, 20, 20);
      ctx.drawImage(planetImageArray[displayTransits[i].natalPlanet], x*115+60, y*50);

      orb = (1.0 - displayTransits[i].difference)*90;
      if (orb < 22.5) {
	    ctx.strokeStyle = "blue";
	    ctx.lineWidth = 1;
      } else if (orb > 22.5 && orb < 45){
	    ctx.strokeStyle = "orange";  
	    ctx.lineWidth = 3;
      } else if (orb > 45 && orb < 67.5){
      	ctx.strokeStyle = "red";
      	ctx.lineWidth = 5;
      } else {
      	ctx.strokeStyle = "#FF0EF0";
      	ctx.lineWidth = 7;
      }
      
      ctx.moveTo(x*115, y*50+35);
      ctx.lineTo(x*115+orb, y*50+35);
	  ctx.stroke();      
	  ctx.restore();
    }
  }
  
  ctx.restore();
  ctx.setTransform(1, 0, 0, 1, 0, 0);   

};
